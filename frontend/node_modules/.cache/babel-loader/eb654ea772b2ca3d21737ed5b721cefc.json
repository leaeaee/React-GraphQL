{"ast":null,"code":"var _jsxFileName = \"/Users/leavidovic/Desktop/web-shop/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Router from './Router';\nimport Toolbar from './Toolbar/Toolbar';\nimport Footer from './Footer';\nimport SideDrawer from './SideDrawer/SideDrawer';\nimport Backdrop from './Backdrop/Backdrop';\nimport AuthContext from './context/auth-context';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      sideDrawerOpen: false,\n      token: null,\n      userId: null,\n      isAdmin: null\n    };\n\n    this.drawerToggleClickHandler = () => {\n      this.setState(prevState => ({\n        sideDrawerOpen: !prevState.sideDrawerOpen\n      }));\n    };\n\n    this.backdropClickHandler = () => this.setState({\n      sideDrawerOpen: false\n    });\n\n    this.login = (token, userId, tokenExpiration, isAdmin) => {\n      this.setState({\n        token,\n        userId,\n        isAdmin\n      });\n      window.localStorage.setItem('token', token);\n      window.localStorage.setItem('userId', userId);\n      window.localStorage.setItem('isAdmin', isAdmin);\n    };\n\n    this.logout = () => {\n      this.setState({\n        token: null,\n        userId: null\n      });\n      window.localStorage.setItem('token', '');\n      window.localStorage.setItem('userId', ''); // window.localStorage.setItem(\"isAdmin\", \"\")\n    };\n  }\n\n  componentDidMount() {\n    const token = window.localStorage.getItem('token');\n\n    if (token && token.length > 0) {\n      const userId = window.localStorage.getItem('userId');\n      const isAdmin = window.localStorage.getItem('isAdmin');\n      this.setState({\n        token,\n        userId,\n        isAdmin\n      });\n    }\n  }\n\n  render() {\n    let backdrop;\n    if (this.state.sideDrawerOpen) backdrop = React.createElement(Backdrop, {\n      click: this.backdropClickHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    });\n    return React.createElement(AuthContext.Provider, {\n      value: {\n        token: this.state.token,\n        userId: this.state.userId,\n        isAdmin: this.state.isAdmin,\n        login: this.login,\n        logout: this.logout\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"page-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"main-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Toolbar, {\n      drawerClickHandler: this.drawerToggleClickHandler,\n      handleInput: this.searchHandler,\n      handleClick: this.filterClickHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(SideDrawer, {\n      show: this.state.sideDrawerOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), backdrop, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/leavidovic/Desktop/web-shop/frontend/src/App.js"],"names":["React","Component","Router","Toolbar","Footer","SideDrawer","Backdrop","AuthContext","App","state","sideDrawerOpen","token","userId","isAdmin","drawerToggleClickHandler","setState","prevState","backdropClickHandler","login","tokenExpiration","window","localStorage","setItem","logout","componentDidMount","getItem","length","render","backdrop","searchHandler","filterClickHandler"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport './App.css';\nimport Router from './Router';\nimport Toolbar from './Toolbar/Toolbar';\nimport Footer from './Footer';\nimport SideDrawer from './SideDrawer/SideDrawer';\nimport Backdrop from './Backdrop/Backdrop';\nimport AuthContext from './context/auth-context';\n\nclass App extends Component {\n  state = {\n    sideDrawerOpen: false,\n    token: null,\n    userId: null,\n    isAdmin: null\n  };\n\n  drawerToggleClickHandler = () => {\n    this.setState(prevState => ({ sideDrawerOpen: !prevState.sideDrawerOpen }));\n  };\n\n  backdropClickHandler = () => this.setState({ sideDrawerOpen: false });\n\n  login = (token, userId, tokenExpiration, isAdmin) => {\n    this.setState({ token, userId, isAdmin });\n    window.localStorage.setItem('token', token);\n    window.localStorage.setItem('userId', userId);\n    window.localStorage.setItem('isAdmin', isAdmin);\n  };\n\n  logout = () => {\n    this.setState({ token: null, userId: null });\n    window.localStorage.setItem('token', '');\n    window.localStorage.setItem('userId', '');\n    // window.localStorage.setItem(\"isAdmin\", \"\")\n  };\n\n  componentDidMount() {\n\n    const token = window.localStorage.getItem('token');\n    if (token && token.length > 0) {\n      const userId = window.localStorage.getItem('userId');\n      const isAdmin = window.localStorage.getItem('isAdmin');\n      this.setState({ token, userId, isAdmin });\n    }\n  }\n\n  render() {\n    let backdrop;\n\n    if (this.state.sideDrawerOpen) backdrop = <Backdrop click={this.backdropClickHandler} />;\n\n    return (\n      <AuthContext.Provider\n        value={{\n          token: this.state.token,\n          userId: this.state.userId,\n          isAdmin: this.state.isAdmin,\n          login: this.login,\n          logout: this.logout\n        }}\n      >\n        <div className=\"page-container\">\n          <div className=\"main-page\">\n            <Toolbar\n              drawerClickHandler={this.drawerToggleClickHandler}\n              handleInput={this.searchHandler}\n              handleClick={this.filterClickHandler}\n            />\n            <SideDrawer show={this.state.sideDrawerOpen} />\n            {backdrop}\n            <Router />\n          </div>\n        </div>\n        <Footer />\n      </AuthContext.Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}